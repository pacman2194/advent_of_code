data = ["........#....#..##..#...#.....#",
"...............#....##........#",
".#....##...##..#...............",
".#.......#......#.##..##...#...",
".....#.#....#..##...#.....#....",
"...#.#..##...###......#..#..#.#",
".....#..##........#.##......#..",
"..##.....###.........##........",
"..............##..#.#.#.#......",
".#....##..#.##.#....#..#.#..#..",
".#.#....#.##.#...#....#.....#..",
"..#...#.#.....#....#.......##..",
".#.#..##.....#...........#.....",
".#.##...#.....#......#.##......",
"..#..#..........#.....#..###.#.",
"##....##....#.#...........#..#.",
".....#.#.......#.#.#..#.##....#",
"...##.#....#..#.....#.........#",
".....#........#.##...#.........",
".....#................#.#...#..",
"...#....##.....##....#.......#.",
"....##.#.....#.#.......#.......",
"#...............#..#...........",
".......###.#.......#.##....#.#.",
"..#........###........#......#.",
".#.......#...##.....####....##.",
"..##.#....#.....#..#....#......",
"..#...#..#.#..##...#.....#.....",
".#.......###.......#....#......",
"...#...#.......#........#...#.#",
"..#....#...#.......#.#..##.....",
"##............#.#..#..........#",
".......###...##..#.....#....#..",
"##..######.#..#.......###....##",
"###..#...#.##......##....#...#.",
"..............##.###..........#",
".....#........##.#.###....#....",
"..#...#.....##.#......#.#..#.#.",
"#....#.............#.#.........",
".........##.#........#...#.....",
"..........#..##.#.#.....#..##..",
"........##......#..#..#...#.#..",
".##.......#..#.#...#.####..#...",
"##...#........#.###...##....#..",
"....###.####...#..#..#......###",
"#....#....#.#.....##.........#.",
"#.......#....#....##...........",
"##...##.#.......#....#...#....#",
"....#....#........##..#.#..#.#.",
"..##.....##...#..........#...#.",
".#.#.#...#.....##..#........#..",
"#....#.....#..........#....#...",
"...##.#.......#.#.........#....",
"##.##.........##.....##.....##.",
"##.#..##..#...##........##.....",
".........##.......#....#...#...",
".#.....#........####.#.#.....#.",
"...........##..#.###...........",
"..#....##....#...#.............",
"#.#............#.......#.......",
".##........#...#..##.....#.#...",
"#.##..............##..##.......",
"##.........#......#......#..#..",
"##.#....#...#....##....#..#.##.",
"......#...#..#.#...#.#....#.##.",
"##.......#.....#.........#.....",
"...##...#................#.#...",
"....#.####...#.#.....##....##.#",
"#...#..#.#.##................##",
".........##.....##...#..#......",
"......####....#.##.#.....#.....",
"...#..#.#....#.#.#..#..........",
".....#........##...#.##....#.#.",
"..##......#...................#",
".....#..#...............#..#...",
"....#........#..#.#...##...#.##",
"..#.#.......#.##.........#...#.",
"...##......#.#.................",
".#....#...#.............##.#...",
"........#.##...#..#...###.....#",
"#....#.#........##....#......##",
".###.......#..#..........#..#..",
"#....#..#....#........#...#...#",
"##.#.###.##.#...##.#......#.#.#",
"#..#..#..##........#..###.#...#",
"....#..#..#.....#...##....#...#",
".......##.......#..#.##...##..#",
".##....#..###................##",
"#...#.##.##...#.##......##.....",
"...##.....##..##...#..#........",
"...............##.....##.......",
".#..#.#..#....#.....#..#...#...",
".#....#..#........#.#...#.....#",
"##.....####..#......#..........",
"........#.........#.........#..",
"#...####....#.##...#....#...##.",
".#....####..#...##..#......####",
"...........##.##..#.##...##....",
"..#..#.......#.##....#.#...#.##",
"#...........#..#...............",
".......#.##..#.....##......#...",
"....##.#.##.....#...........#.#",
".............#.##..#...#......#",
"#......#...........#........#..",
"#.#..#.............#...#.......",
"#.........##...#....#...##.....",
"##...#..#..#..#....#...........",
".#.....#........#.....#.##..#.#",
"...#..............##.####.#..#.",
"##.....#..#.#..#..##...........",
"...#...#.......#...............",
"..#..................###..#..##",
"....###..........#.#..#...#.#.#",
"..#..#..#.#..........#.#......#",
"....#....#.#...#.###...##..#...",
"....#.......#...#....##........",
".#.....#.......###....#........",
"....#..#..#.....#......#.......",
"......#...#..#....#.#.......#..",
".##.#..#...#.#.#...........#...",
"..#....##.#....#.#....#...#.#.#",
"...##..#.......#....#.#.....##.",
"##.#......#.#.......##...#.....",
"......#...#.##..............#..",
".##.........#......##.#..#....#",
"#.......#.....#...##...#..#...#",
"..#..##.......#......#......##.",
"#..##...###.#.#...........#....",
"##......#.....####..#..#....#.#",
".......##...##.#...#...........",
"....#..#.##.#.....#.#....#.#...",
"....#.....#.....####...#..#.##.",
".##..#..#..###...#....#.##.#.#.",
"..#.#.##..........##...........",
"#.##.#.#....#.##....#..#...##.#",
"#...#....#...###....#.......#..",
".......#..#............#.......",
"................##.#.#.....#..#",
"..........................#....",
".##....##...#.#....####..#....#",
"......#...#....#...#.##..###.#.",
".........#............#.......#",
".#.#..#........#..#.........#..",
"#..#...#......#.#....#..#.#....",
"...........#.................#.",
".#.#..#...##..###......##....##",
".#.#.##......####.........##...",
"..#....#.#..#................#.",
"##.......#....#.........##.#.#.",
"##..#.###...........#..#.#..#.#",
"...#............##.#....#......",
"...#................##.#..#....",
"....#..##.#...#.#.....#.......#",
"......#......#.#........#..##..",
"...##...#.....#.##.......#.....",
"##...#...#.............#..#....",
"..#...##.....#..........#..#.##",
"#.##...#..................#.###",
".........#..........#.###...#.#",
"#..#.....#.#.#....#......#...#.",
".............#.##..###.....#.##",
"..#..#.....#..#.............#..",
".#.....##.#.#..#.........#.....",
"..#.......#....#.....##.#......",
".#.........#..#....##...#.##...",
".##..##................###....#",
".#..##..............#...#......",
".#..............#.##....##.....",
".#......#..#..##..#...###.....#",
"................##...#.#..#...#",
"##.#.......#...................",
"....#.#.......#..#.##..........",
"....###............##...#......",
".......#....#.#.....##.#.....#.",
"....#...............#.#........",
"..#.##....#.#.#......##..#.....",
".##......#...#.#..#..#.......#.",
"....#...#........#.#..##.......",
".##...###.#....#..........##..#",
"..#.......##..#.....###......#.",
"...#.#..##.#.#...........#.....",
"##........#.#..##.........#..#.",
".....###.......#..#.#.....##.#.",
"..#...##.#..............#......",
"......#...#...............##.#.",
"##...#..#....#...#.####.##.....",
"...#............#.##...........",
"...#........##.#.##.......#....",
"...#..#..##....#...#......#..#.",
"#.....#..#......#.#.....##.#.#.",
".....#.##......#...#..#..###..#",
"...........##..##.#.#..........",
"...#........##........##..##.#.",
"......###...#.....#..###.#..#..",
"#.....#.#....#...##....##.....#",
".##....#......#.....#.#..##.##.",
"##....###.......#...##.......##",
"...##......#....###............",
"..#...#...#.#..#..........##.#.",
"#.#.###...#..#.....#....#.###..",
"..##.....#.#.#.......#.........",
"...####..#....#..#.........#...",
".##...........#.##.#...#.#.##..",
"...#.#....#.##......#........#.",
"##....##....#..#...#..#.#......",
"#......#..#...#...#.#.#.#.####.",
"....##.#.#.....#.###........#..",
"....##..#.#.#.#....#....#.#..#.",
"..#.###..#............##..#.#..",
"...#...#..#...#.#.#.....#.....#",
"..........#.....#..#.......##.#",
"..............##...........#...",
".......#.....#...#.....#.....#.",
".#.###.....##......##....#...#.",
".....#.........#.#....#........",
"..#.#....#.##...#.##....##...#.",
"...#......#.#.....#.......###..",
"#.##....##.....#.#.#...#......#",
"#..#...#..........#.........##.",
"....#.#.#.#.....#...###........",
"#.#..#...#......#...#.##...####",
".#...#......#....##...#........",
"..#.........#............#...#.",
"##......#..#...#....#.##....#..",
".#...##..#..##.#.#.#........#.#",
".##.........###...#......#..###",
"...##.....##..#.#.........#....",
"...........##........#...#.....",
"..##..#...#..#..#.....#......#.",
"..#..#.#....#.....#..#.##...#..",
"#....#........##..........#.###",
"......#...#...#....#...##.#....",
"...#......#.#.....##......##...",
"#....#..##............#....#.#.",
"...#...##.#..........##........",
"......#.###......#...#.#.......",
"..................#.##..#..#..#",
"....#.....#...#.....#...#....#.",
".#....##.#..#..#.....###.##...#",
"#.......#..#....##.##.#.....##.",
"..##........##...#.....#....##.",
"#.........#...........##.#.....",
".#....#.#...##..###..........#.",
"....##..##....####...#......#..",
"##.##..#..#....#....####...#...",
"..#...............#.##.........",
"...#.#....#..#....#......#.....",
".#..#...#........#...#.....##..",
"#.....###.......#.....#........",
"...#.##..#.......#....#........",
"....##..###.##...#.#....#.#....",
"#.####...#.......#.....#.#....#",
"#.......#......#.......#.#.#...",
"##....#......#..#...#..#..####.",
".##.....#........#..#...#......",
"#.#.#....#....#...#.##..##.....",
"....#..#.........###.##.##.....",
"...##...##.###..#..##.....#.###",
"..###.......................#..",
"......##..#.#.........#......#.",
".###......##....#.....#.......#",
".....#..#..##........#......##.",
"..##.....#....#.#.............#",
"..##.........##.#..#.........##",
"......#......#.#......#........",
".#...#..#......##...#..#....#..",
"...............###............#",
"#.####.#....#...#...........#.#",
"............................#.#",
".#..#...#.#.#.###..##.....##...",
"....##...#.................##..",
"......##....#...............##.",
".#......#.##.#..#.....##...##..",
".............#........#......#.",
"#..........#.#....#####.#...#.#",
".#.#...##..#.#...#.#..#.#..#...",
"#.##.......##......#.#.#....#..",
"##.....##.#.#.##..........##..#",
"....##..#.#.......#....#.##....",
"..#.#.#...#.....#.......#......",
".#....#..#...........###.......",
"#.#...#.....#......#...#.....#.",
"#........#.#..........#...#.#..",
"...#...#....#.........#........",
".....................#..##.....",
"...#......##........#.##.#.#.##",
".............###...#.#...#..#..",
".#..##........##....#...###..##",
".#..#.#...............#.....##.",
"...........##.#....#..##.#....#",
".##.#.#..#.#..#...#.#.#..#.#.##",
".......#.#..#..#..#..#...#.....",
".#......##............#.#..#...",
"..#...#..##..#..#...##......#..",
"...##......##....#............#",
".......#.....##...##.#...#..#..",
"......#.......#..##.........#..",
"..#...#.#.....#.#.......#.#...#",
".#......##.##.#.#.#.##..#....##",
"#.....#.........#.#....#....##.",
".......#.........#....#..#.#.##",
".....##....#..#.#.#...#.....##.",
"#####.#.......######......#....",
"..##.#.......#.#..............#",
"..#.##....#.....#...#.#...##...",
".....#...#..#....#.#..#........",
".#....#.#..#.#.#.##..#.......#.",
"....#..#..#..........##...#....",
".......#.#......#........#.....",
"##.#.#.###....##.#..#..#....#..",
"#.##......#..#.......#.#...#...",
"..##...#.......#.......#...#...",
"........##.........#.#....#.#..",
"..#...#..##.#.#.#...#....#.....",
".###......#........#....#...#..",
".#.......##......###..##.......",
"#....#.#....#.##.........####..",
"......#..........#..##.....#...",
".............#......#..##.#....",
"...................#....#...#..",
".#..........#...#.#..##...#....",
".....#...#..........##.##......",
"#...#..#.##........#...#......."]

slopes = [
    "1,1",
    "1,3",
    "1,5",
    "1,7",
    "2,1"
]

def encounters(terrain, slope):
    """
    return number of tree encounters for a given terrain and slope
    slope is a comma-delimited list in a string in the form y_mov,x_mov
    """
    columns = len(terrain[0])
    rows = len(terrain)
    trees = 0
    y = 0
    x = 0
    y_mov, x_mov = [ int(a.strip()) for a in slope.split(',') ]
    y += y_mov
    x += x_mov
    while y < rows:
        if terrain[y][x%columns] == '#':
            trees += 1
        y += y_mov
        x += x_mov
    return trees

slope_encounters = [encounters(data, slope) for slope in slopes]
slope_product = slope_encounters[0]

for slope_encounter in slope_encounters[1:]:
    slope_product *= slope_encounter

print(f'slope_encounters: {slope_encounters}')
print(f'slope_product: {slope_product}')
